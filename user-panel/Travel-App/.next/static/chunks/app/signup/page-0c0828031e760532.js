(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{7734:(e,t,r)=>{Promise.resolve().then(r.bind(r,9783))},9783:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(5155),s=r(2115),o=r(8173),l=r.n(o),n=r(6046),i=r(1598),c=r(7752),d=r(632),u=r(42);function m(){let[e,t]=(0,s.useState)(!1),[r,o]=(0,s.useState)(""),[m,h]=(0,s.useState)({fullName:"",email:"",password:""}),x=(0,n.useRouter)(),{login:g}=(0,u.A)(),p=async e=>{e.preventDefault(),o("");try{let e=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),t=await e.json();if(!e.ok)throw Error(t.error||"Something went wrong");await g({email:m.email,password:m.password}),x.push("/")}catch(e){o(e.message)}},f=e=>{let{name:t,value:r}=e.target;h(e=>({...e,[t]:r}))};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",style:{backgroundImage:"url('/background.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[(0,a.jsx)("div",{className:"absolute top-4 left-4",children:(0,a.jsxs)(l(),{href:"/",className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 mr-2"}),"Back to Home"]})}),(0,a.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-[#FF3131] to-[#FF914D] text-transparent bg-clip-text",children:"Create Account"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Join us on your travel journey"})]}),r&&(0,a.jsx)("div",{className:"mb-4 p-4 text-sm text-red-700 bg-red-100 rounded-lg",children:r}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,a.jsx)("input",{id:"fullName",name:"fullName",type:"text",value:m.fullName,onChange:f,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition-all",placeholder:"Enter your full name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",value:m.email,onChange:f,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition-all",placeholder:"Enter your email",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"password",name:"password",type:e?"text":"password",value:m.password,onChange:f,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition-all",placeholder:"Create a password",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:e?(0,a.jsx)(c.A,{size:20}):(0,a.jsx)(d.A,{size:20})})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"terms",className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500",required:!0}),(0,a.jsxs)("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-600",children:["I agree to the"," ",(0,a.jsx)(l(),{href:"/terms",className:"text-orange-500 hover:text-orange-600",children:"Terms of Service"})," ","and"," ",(0,a.jsx)(l(),{href:"/privacy",className:"text-orange-500 hover:text-orange-600",children:"Privacy Policy"})]})]}),(0,a.jsx)("button",{type:"submit",className:"w-full py-3 px-4 text-white rounded-lg bg-gradient-to-r from-[#FF3131] to-[#FF914D] hover:opacity-90 transition-opacity",children:"Create Account"})]}),(0,a.jsxs)("p",{className:"text-center mt-8 text-gray-600",children:["Already have an account?"," ",(0,a.jsx)(l(),{href:"/login",className:"text-orange-500 hover:text-orange-600 font-medium",children:"Sign in"})]})]})]})}},42:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,AuthProvider:()=>n});var a=r(5155),s=r(2115),o=r(6046);let l=(0,s.createContext)({});function n(e){let{children:t}=e,[r,n]=(0,s.useState)(null),[i,c]=(0,s.useState)(!0),d=(0,o.useRouter)();(0,s.useEffect)(()=>{u()},[]);let u=async()=>{try{let e=await fetch("/api/auth/check",{credentials:"include"});if(e.ok){let t=await e.json();n(t.user)}else n(null)}catch(e){console.error("Auth check failed:",e),n(null)}finally{c(!1)}},m=async e=>{let{email:t,password:r}=e;try{console.log("Attempting login with:",t,r);let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:r})});if(console.log("Response status:",e.status),!e.ok){let t=await e.json();throw console.error("Login error data:",t),Error(t.message||"Invalid email or password")}let a=await e.json();return console.log("User data received:",a),n(a),a}catch(e){throw console.error("Login error:",e),e}},h=async()=>{try{if(!(await fetch("/api/auth/logout",{method:"POST",credentials:"include"})).ok)throw Error("Logout failed");n(null),d.push("/"),d.refresh()}catch(e){throw console.error("Logout error:",e),e}};return(0,a.jsx)(l.Provider,{value:{user:r,loading:i,login:m,logout:h,checkAuth:u},children:t})}let i=()=>(0,s.useContext)(l)},4057:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...l,width:s,height:s,stroke:r,strokeWidth:i?24*Number(n)/Number(s):n,className:o("lucide",c),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:i,...c}=r;return(0,a.createElement)(n,{ref:l,iconNode:t,className:o("lucide-".concat(s(e)),i),...c})});return r.displayName="".concat(e),r}},1598:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4057).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7752:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4057).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},632:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4057).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[1028,8441,1517,7358],()=>t(7734)),_N_E=e.O()}]);