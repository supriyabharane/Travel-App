(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{869:(e,t,r)=>{Promise.resolve().then(r.bind(r,42)),Promise.resolve().then(r.bind(r,8352)),Promise.resolve().then(r.t.bind(r,4233,23)),Promise.resolve().then(r.t.bind(r,5427,23)),Promise.resolve().then(r.t.bind(r,9324,23))},42:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,AuthProvider:()=>n});var a=r(5155),o=r(2115),s=r(6046);let l=(0,o.createContext)({});function n(e){let{children:t}=e,[r,n]=(0,o.useState)(null),[i,u]=(0,o.useState)(!0),c=(0,s.useRouter)();(0,o.useEffect)(()=>{h()},[]);let h=async()=>{try{let e=await fetch("/api/auth/check",{credentials:"include"});if(e.ok){let t=await e.json();n(t.user)}else n(null)}catch(e){console.error("Auth check failed:",e),n(null)}finally{u(!1)}},d=async e=>{let{email:t,password:r}=e;try{console.log("Attempting login with:",t,r);let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:r})});if(console.log("Response status:",e.status),!e.ok){let t=await e.json();throw console.error("Login error data:",t),Error(t.message||"Invalid email or password")}let a=await e.json();return console.log("User data received:",a),n(a),a}catch(e){throw console.error("Login error:",e),e}},f=async()=>{try{if(!(await fetch("/api/auth/logout",{method:"POST",credentials:"include"})).ok)throw Error("Logout failed");n(null),c.push("/"),c.refresh()}catch(e){throw console.error("Logout error:",e),e}};return(0,a.jsx)(l.Provider,{value:{user:r,loading:i,login:d,logout:f,checkAuth:h},children:t})}let i=()=>(0,o.useContext)(l)},8352:(e,t,r)=>{"use strict";r.d(t,{PaymentProvider:()=>l,u:()=>n});var a=r(5155),o=r(2115);let s=(0,o.createContext)(),l=e=>{let{children:t}=e,[r,l]=(0,o.useState)(1);return(0,a.jsx)(s.Provider,{value:{step:r,setStep:l},children:t})},n=()=>(0,o.useContext)(s)},6046:(e,t,r)=>{"use strict";var a=r(6658);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},9324:()=>{},4233:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}},5427:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}}},e=>{var t=t=>e(e.s=t);e.O(0,[4060,5269,4589,8441,1517,7358],()=>t(869)),_N_E=e.O()}]);