"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6809],{6809:(e,t,s)=>{s.d(t,{default:()=>b});var r=s(5155),l=s(42),a=s(8173),n=s.n(a),i=s(2115),o=s(2488),c=s(2645);function x(e){let{title:t,items:s,className:l}=e,[a,x]=(0,i.useState)(!1);return(0,r.jsxs)("div",{className:"relative inline-block text-left",children:[(0,r.jsxs)("button",{onClick:()=>x(!a),className:"flex items-center space-x-1 ".concat(l),children:[(0,r.jsx)("span",{children:t}),a?(0,r.jsx)(o.A,{size:16}):(0,r.jsx)(c.A,{size:16})]}),a&&(0,r.jsx)("div",{className:"absolute z-10 mt-2 w-48 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5",children:(0,r.jsx)("div",{className:"py-1",children:s.map((e,t)=>(0,r.jsx)(n(),{href:e.href,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-orange-500",children:e.label},t))})})]})}var d=s(7893),h=s(2591),p=s(2472),u=s(1354),m=s(689),g=s(7936),f=s(6046);function b(){let[e,t]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null),b=(0,f.useRouter)(),{user:j,logout:y}=(0,l.A)(),N=e=>{a(s===e?null:e)},v=async()=>{try{await y()}catch(e){console.error("Logout failed:",e)}},F=[{label:"Mountains",href:"/packages?type=mountain"},{label:"Beaches",href:"/packages?type=beach"},{label:"Desert Safari",href:"/packages?type=desert"},{label:"Bali Ubud Kuta",href:"/itinerary-detail/bali-ubud-kuta"}],w=[{label:"Europe Tour",href:"/packages?country=Europe"},{label:"Asia Tour",href:"/packages?country=Asia"},{label:"America Tour",href:"/packages?country=America"}],k=[{label:"Winter Specials",href:"/packages?season=Winter"},{label:"Summer Break",href:"/packages?season=Summer"}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"w-full bg-gradient-to-r from-[#FF3131] to-[#FF914D] text-white text-center py-2 text-sm font-medium",children:["Offer Name Lorem Ipsum\xa0",(0,r.jsx)(n(),{href:"#",className:"underline font-semibold",children:"Explore Now"})]}),(0,r.jsx)("nav",{className:"bg-white shadow-md",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-0 lg:px-0 md:px-2",children:[(0,r.jsxs)("div",{className:"hidden md:flex justify-end items-center py-2 gap-3",children:[(0,r.jsxs)("button",{className:"flex items-center gap-1 text-[#FF3131] font-semibold hover:underline",children:[(0,r.jsx)(d.A,{size:18,className:"text-[#FF3131]"}),"Your Wishlists",(0,r.jsx)("span",{className:"ml-1 bg-[#FF3131] text-white rounded-full px-2 text-xs",children:"3"})]}),(0,r.jsx)("button",{className:"font-semibold hover:underline",children:"Contact Us"}),(0,r.jsx)("button",{onClick:()=>b.push("/request-callback"),className:"bg-black text-white px-4 py-2 rounded-lg font-semibold hover:bg-[#FF3131] transition",children:"Request Callback"}),(0,r.jsxs)("span",{className:"flex items-center gap-1 text-green-500 font-semibold",children:[(0,r.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 32 32",fill:"none",children:[(0,r.jsx)("circle",{cx:"16",cy:"16",r:"16",fill:"#25D366"}),(0,r.jsx)("path",{d:"M23.6 19.6c-.4-.2-2.3-1.1-2.7-1.2-.4-.2-.7-.2-1 .2-.3.4-1.1 1.2-1.3 1.4-.2.2-.5.3-.9.1-.4-.2-1.7-.6-3.2-2-1.2-1.1-2-2.5-2.2-2.9-.2-.4 0-.6.2-.8.2-.2.4-.5.6-.7.2-.2.2-.4.3-.7.1-.2 0-.5-.1-.7-.1-.2-1-2.4-1.4-3.3-.4-.9-.7-.8-1-.8h-.8c-.2 0-.5.1-.7.3-.2.2-1 1-1 2.5 0 1.5 1.1 3 1.3 3.2.2.2 2.1 3.2 5.1 4.4 1.8.7 2.5.8 3 .7.5-.1 1.5-.6 1.7-1.2.2-.6.2-1.1.1-1.2z",fill:"#fff"})]}),"+91-95994 91709"]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search",className:"border border-gray-200 rounded-lg px-3 py-2 pl-8 focus:outline-none focus:ring-2 focus:ring-[#FF914D] w-40"}),(0,r.jsx)(h.A,{size:16,className:"absolute left-2 top-2.5 text-gray-400"})]}),(0,r.jsx)("button",{onClick:()=>b.push("/signup"),className:"bg-[#FF3131] text-white px-4 py-2 rounded-lg font-semibold hover:bg-[#FF914D] transition",children:"Sign up"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,r.jsx)(n(),{href:"/",className:"flex items-center",children:(0,r.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#FF3131] to-[#FF914D] text-2xl font-bold",children:"\uD83D\uDC5C Logo"})}),(0,r.jsxs)("div",{className:"hidden sm:flex space-x-8",children:[(0,r.jsx)(x,{title:"Domestic Trips",items:F,className:"text-[#000929] text-[14px] hover:text-orange-500 font-playfair"}),(0,r.jsx)(x,{title:"International Trips",items:w,className:"text-[#000929] text-[14px] hover:text-orange-500 font-playfair"}),(0,r.jsx)(x,{title:"Fixed Departures",items:k,className:"text-[#000929] text-[14px] hover:text-orange-500 font-playfair"}),(0,r.jsx)(n(),{href:"#",className:"text-gray-700 text-[14px] hover:text-orange-500 font-playfair",children:"Speciality Tours"}),(0,r.jsx)(n(),{href:"/customize-trip",className:"text-gray-700 text-[14px] hover:text-orange-500 font-playfair",children:"Customize Trip"}),(0,r.jsx)(n(),{href:"/your-trips",className:"text-gray-700 text-[14px] hover:text-orange-500 font-playfair",children:"Your Trips"})]}),(0,r.jsx)("div",{className:"sm:flex hidden space-x-4",children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>b.push("/user-profile"),className:"px-[24px] py-[12px] border-2 border-[#E0DEF7] rounded-lg text-[#000929] hover:bg-gray-100 flex items-center gap-2",children:[(0,r.jsx)(p.A,{size:18}),"Profile"]}),(0,r.jsxs)("button",{onClick:v,className:"px-[24px] py-[12px] text-white rounded-lg bg-gradient-to-r from-[#FF3131] to-[#FF914D] flex items-center gap-2",children:[(0,r.jsx)(u.A,{size:18}),"Logout"]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>b.push("/login"),className:"px-[24px] py-[12px] border-2 border-[#E0DEF7] rounded-lg text-[#000929] hover:bg-gray-100",children:"Login"}),(0,r.jsx)("button",{onClick:()=>b.push("/signup"),className:"px-[24px] py-[12px] text-white rounded-lg bg-gradient-to-r from-[#FF3131] to-[#FF914D]",children:"Sign up"})]})}),(0,r.jsxs)("div",{className:"flex sm:hidden items-center gap-2",children:[j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>b.push("/user-profile"),className:"px-4 py-2 border-2 border-[#E0DEF7] rounded-lg text-[#000929] hover:bg-gray-100 text-sm flex items-center gap-1",children:[(0,r.jsx)(p.A,{size:16}),"Profile"]}),(0,r.jsxs)("button",{onClick:v,className:"px-4 py-2 text-white rounded-lg bg-gradient-to-r from-[#FF3131] to-[#FF914D] text-sm flex items-center gap-1",children:[(0,r.jsx)(u.A,{size:16}),"Logout"]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>b.push("/login"),className:"px-4 py-2 border-2 border-[#E0DEF7] rounded-lg text-[#000929] hover:bg-gray-100 text-sm",children:"Login"}),(0,r.jsx)("button",{onClick:()=>b.push("/signup"),className:"px-4 py-2 text-white rounded-lg bg-gradient-to-r from-[#FF3131] to-[#FF914D] text-sm",children:"Sign up"})]}),(0,r.jsx)("button",{className:"p-2 rounded-md text-gray-700 focus:outline-none",onClick:()=>t(!e),children:e?(0,r.jsx)(m.A,{size:24}):(0,r.jsx)(g.A,{size:24})})]})]}),e&&(0,r.jsxs)("div",{className:"md:hidden flex flex-col items-start p-2",children:[(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("button",{onClick:()=>N("Domestic"),className:"w-full text-left flex justify-between items-center px-4 py-2 text-gray-700 hover:text-orange-500",children:["Domestic Trips","Domestic"===s?(0,r.jsx)(o.A,{size:16}):(0,r.jsx)(c.A,{size:16})]}),"Domestic"===s&&(0,r.jsx)("div",{className:"pl-6 py-2 space-y-2",children:F.map(e=>(0,r.jsx)(n(),{href:e.href,className:"block text-gray-600 hover:text-orange-500",children:e.label},e.label))})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("button",{onClick:()=>N("International"),className:"w-full text-left flex justify-between items-center px-4 py-2 text-gray-700 hover:text-orange-500",children:["International Trips","International"===s?(0,r.jsx)(o.A,{size:16}):(0,r.jsx)(c.A,{size:16})]}),"International"===s&&(0,r.jsx)("div",{className:"pl-6 py-2 space-y-2",children:w.map(e=>(0,r.jsx)(n(),{href:e.href,className:"block text-gray-600 hover:text-orange-500",children:e.label},e.label))})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("button",{onClick:()=>N("Seasonal"),className:"w-full text-left flex justify-between items-center px-4 py-2 text-gray-700 hover:text-orange-500",children:["Fixed Departures","Seasonal"===s?(0,r.jsx)(o.A,{size:16}):(0,r.jsx)(c.A,{size:16})]}),"Seasonal"===s&&(0,r.jsx)("div",{className:"pl-6 py-2 space-y-2",children:k.map(e=>(0,r.jsx)(n(),{href:e.href,className:"block text-gray-600 hover:text-orange-500",children:e.label},e.label))})]}),(0,r.jsx)(n(),{href:"#",className:"w-full px-4 py-2 text-gray-700 hover:text-orange-500 text-left",children:"Speciality Tours"}),(0,r.jsx)(n(),{href:"/customize-trip",className:"w-full px-4 py-2 text-gray-700 hover:text-orange-500 text-left",children:"Customize Trip"}),(0,r.jsx)(n(),{href:"/your-trips",className:"w-full px-4 py-2 text-gray-700 hover:text-orange-500 text-left",children:"Your Trips"})]})]})})]})}},42:(e,t,s)=>{s.d(t,{A:()=>o,AuthProvider:()=>i});var r=s(5155),l=s(2115),a=s(6046);let n=(0,l.createContext)({});function i(e){let{children:t}=e,[s,i]=(0,l.useState)(null),[o,c]=(0,l.useState)(!0),x=(0,a.useRouter)();(0,l.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=await fetch("/api/auth/check",{credentials:"include"});if(e.ok){let t=await e.json();i(t.user)}else i(null)}catch(e){console.error("Auth check failed:",e),i(null)}finally{c(!1)}},h=async e=>{let{email:t,password:s}=e;try{console.log("Attempting login with:",t,s);let e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:s})});if(console.log("Response status:",e.status),!e.ok){let t=await e.json();throw console.error("Login error data:",t),Error(t.message||"Invalid email or password")}let r=await e.json();return console.log("User data received:",r),i(r),r}catch(e){throw console.error("Login error:",e),e}},p=async()=>{try{if(!(await fetch("/api/auth/logout",{method:"POST",credentials:"include"})).ok)throw Error("Logout failed");i(null),x.push("/"),x.refresh()}catch(e){throw console.error("Logout error:",e),e}};return(0,r.jsx)(n.Provider,{value:{user:s,loading:o,login:h,logout:p,checkAuth:d},children:t})}let o=()=>(0,l.useContext)(n)}}]);